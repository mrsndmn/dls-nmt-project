on:  # Trigger the workflow on push or pull request, but only for the master branch
  push:
    branches: [master, "release/*"]
  pull_request:
    branches: [master, "release/*"]

steps:
- uses: actions/checkout@v2
- uses: actions/setup-python@v2
  with:
    python-version: '3.x' # Version range or exact version of a Python version to use, using SemVer's version range syntax
    architecture: 'x64'
- run: |
    pip install pytest pytorch-lightning torch --find-links https://download.pytorch.org/whl/cpu/torch_stable.html
    PYTHONPATH=. pytest ./models/